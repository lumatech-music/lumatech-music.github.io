<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>LumaTech | Releases</title>

  <style>
    /* ===== Base ===== */
    *{ box-sizing:border-box; }
    html, body{
      margin:0;
      height:100%;
      font-family: Arial, Helvetica, sans-serif;
    }
    body{
      background:
        linear-gradient(rgba(0,0,0,.4), rgba(0,0,0,.7)),
        url("background.png");
      background-size: cover;
      background-position: center;
      background-repeat: no-repeat;
      color:#fff;
      display:flex;
      align-items:center;
      justify-content:center;
      text-align:center;
    }

    .container{
      padding:40px 20px;
      width:100%;
      max-width:1100px;
    }

    h1{
      margin:0;
      font-size:42px;
      letter-spacing:8px;
    }
    .tag{
      margin-top:12px;
      font-size:12px;
      letter-spacing:4px;
      opacity:.75;
    }
    .divider{
      width:70px;
      height:1px;
      background:rgba(255,255,255,.6);
      margin:30px auto 40px;
    }

    /* ===== Grid ===== */
    .grid{
      display:grid;
      grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
      gap:22px;
    }

    /* ===== Release Card ===== */
    .release-card{
      background:rgba(0,0,0,.25);
      border-radius:16px;
      padding:16px;
      text-align:left;
      cursor:pointer;
      transition:.25s ease;
      border:1px solid rgba(255,255,255,.10);
      outline:none;
    }
    .release-card:hover{
      transform: translateY(-3px);
      background:rgba(0,0,0,.35);
      border-color: rgba(255,255,255,.22);
    }
    .release-card:focus{
      border-color: rgba(255,255,255,.35);
      box-shadow: 0 0 0 3px rgba(255,255,255,.08);
    }

    .cover{
      width:100%;
      aspect-ratio: 1 / 1;
      object-fit:cover;
      border-radius:14px;
      display:block;
      margin:0 0 12px 0;
    }
    .meta{
      font-size:11px;
      letter-spacing:3px;
      opacity:.75;
    }
    .title{
      margin:8px 0 10px;
      font-size:13px;
      letter-spacing:3px;
      font-weight:700;
      text-transform:uppercase;
      line-height:1.3;
    }
    .badge{
      display:inline-block;
      margin-top:8px;
      padding:6px 10px;
      border-radius:999px;
      border:1px solid rgba(255,255,255,.35);
      background:rgba(255,255,255,.10);
      font-size:10px;
      letter-spacing:3px;
      font-weight:700;
      text-transform:uppercase;
    }

    /* ===== Back Button ===== */
    .back{ margin-top:36px; }
    .back a{
      padding:12px 28px;
      background:rgba(255,255,255,.12);
      color:#fff;
      text-decoration:none;
      letter-spacing:4px;
      font-size:12px;
      font-weight:700;
      transition:.25s;
      border-radius:12px;
      display:inline-block;
    }
    .back a:hover{ background:#fff; color:#000; }

    /* ===== Fade In ===== */
    .fade{
      opacity:0;
      transform: translateY(14px);
      animation: fadeIn 1.2s ease-out forwards;
    }
    @keyframes fadeIn{
      to{ opacity:1; transform: translateY(0); }
    }

    /* ===== Modal ===== */
    .modal{
      position:fixed;
      inset:0;
      background:rgba(0,0,0,.72);
      display:none;
      align-items:center;
      justify-content:center;
      padding:18px;
      z-index:2000;
    }
    .modal.open{ display:flex; }

    .modal-card{
      width:100%;
      max-width:820px;
      background:rgba(0,0,0,.55);
      border:1px solid rgba(255,255,255,.18);
      border-radius:18px;
      overflow:hidden;
      position:relative;
      text-align:left;
      box-shadow:0 20px 70px rgba(0,0,0,.65);
      backdrop-filter: blur(8px);
    }

    .modal-header{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:12px;
      padding:14px 16px;
      border-bottom:1px solid rgba(255,255,255,.12);
    }
    .modal-header .mh-title{
      font-weight:800;
      letter-spacing:3px;
      font-size:12px;
      opacity:.9;
    }
    .close-btn{
      appearance:none;
      border:1px solid rgba(255,255,255,.22);
      background:rgba(255,255,255,.10);
      color:#fff;
      border-radius:12px;
      padding:9px 12px;
      cursor:pointer;
      transition:.2s ease;
      font-weight:700;
      letter-spacing:2px;
      font-size:11px;
    }
    .close-btn:hover{ background:#fff; color:#000; }

    .modal-body{
      display:grid;
      grid-template-columns: 320px 1fr;
      gap:18px;
      padding:16px;
    }
    @media(max-width:860px){
      .modal-body{ grid-template-columns: 1fr; }
    }

    .modal-cover{
      width:100%;
      max-width:320px;
      aspect-ratio:1/1;
      object-fit:cover;
      border-radius:16px;
      display:block;
    }

    .player{ margin-top:12px; }
    audio{
      width:100%;
      max-width:320px;
      display:block;
    }

    .links{
      display:flex;
      gap:10px;
      flex-wrap:wrap;
      margin-top:14px;
    }
    .links a{
      padding:10px 14px;
      background:rgba(255,255,255,.12);
      color:#fff;
      text-decoration:none;
      letter-spacing:3px;
      font-size:11px;
      transition:.25s;
      border-radius:12px;
      display:inline-block;
    }
    .links a:hover{ background:#fff; color:#000; }
    .links a.free{
      border:1px solid rgba(255,255,255,.35);
      background:rgba(255,255,255,.18);
      font-weight:700;
    }

    /* Slider arrows */
    .slider-btn{
      position:absolute;
      top:50%;
      transform:translateY(-50%);
      width:44px;
      height:44px;
      border-radius:50%;
      border:1px solid rgba(255,255,255,.22);
      background:rgba(0,0,0,.35);
      color:#fff;
      display:flex;
      align-items:center;
      justify-content:center;
      cursor:pointer;
      z-index:10;
      transition:.2s ease;
      user-select:none;
    }
    .slider-btn:hover{
      transform:translateY(-50%) scale(1.06);
      background:rgba(255,255,255,.14);
    }
    .slider-btn:disabled{
      opacity:.35;
      cursor:default;
    }
    .slider-btn:disabled:hover{
      transform:translateY(-50%);
      background:rgba(0,0,0,.35);
    }
    .slider-prev{ left:12px; }
    .slider-next{ right:12px; }
    .slider-btn svg{ width:18px; height:18px; fill:currentColor; }

    /* Slide transition */
    #viewport{
      transition: transform .40s ease, opacity .40s ease;
      will-change: transform, opacity;
    }
    .slide-out-left{  transform: translateX(-55%); opacity:0; }
    .slide-out-right{ transform: translateX(55%);  opacity:0; }
    .slide-in-left{   transform: translateX(-55%); opacity:0; }
    .slide-in-right{  transform: translateX(55%);  opacity:0; }
    .slide-center{    transform: translateX(0);    opacity:1; }

    /* ===== WHATSAPP FLOAT BUTTON ===== */
    .whatsapp-float{
      position:fixed;
      right:22px;
      bottom:22px;
      background:rgba(0,0,0,.6);
      backdrop-filter: blur(6px);
      padding:12px 18px;
      border-radius:40px;
      display:flex;
      align-items:center;
      gap:10px;
      text-decoration:none;
      box-shadow:0 0 20px rgba(0,0,0,.6);
      z-index:1000;
      transition:.25s ease;
    }
    .whatsapp-float img{ width:22px; height:auto; }
    .whatsapp-float span{
      color:#fff;
      font-size:11px;
      font-weight:700;
      letter-spacing:1px;
      line-height:1.2;
      white-space:nowrap;
    }
    .whatsapp-float:hover{
      transform:scale(1.08);
      box-shadow:0 0 28px rgba(37,211,102,.6);
    }

    /* ===== FOOTER LEFT ===== */
    .footer-left{
      position:fixed;
      left:18px;
      bottom:14px;
      display:flex;
      align-items:center;
      gap:8px;
      font-size:11px;
      letter-spacing:1px;
      opacity:.65;
      z-index:999;
    }
    .footer-left img{
      width:64px;
      height:auto;
      opacity:1;
    }

    @media(max-width:600px){
      h1{ font-size:34px; letter-spacing:6px; }
      .whatsapp-float span{ display:none; }
    }
  </style>
</head>

<body>

  <div class="container fade">
    <h1>RELEASES</h1>
    <div class="tag">LUMATECH DISCOGRAPHY</div>
    <div class="divider"></div>

    <div class="grid" id="grid"></div>

    <div class="back">
      <a href="home.html">BACK</a>
    </div>
  </div>

  <div class="footer-left">
    <img src="logo white.png" alt="Lumatech Logo">
    <span>All Rights Reserved. Lumatech Music © 2026</span>
  </div>

  <a href="https://chat.whatsapp.com/Hw4geis1c3pENPVwpwmjKh"
     target="_blank"
     class="whatsapp-float"
     title="Join the Official LumaTech WhatsApp Updates Group" rel="noopener">
    <img src="whatsapp.png" alt="WhatsApp">
    <span>Join the Official LumaTech WhatsApp Updates Group</span>
  </a>

  <!-- ===== Modal ===== -->
  <div class="modal" id="modal" aria-hidden="true">
    <div class="modal-card" role="dialog" aria-modal="true" aria-label="Release details">

      <button class="slider-btn slider-prev" id="prevBtn" aria-label="Previous release">
        <svg viewBox="0 0 24 24" aria-hidden="true">
          <path d="M15.5 19 8.5 12l7-7 1.5 1.5L11.5 12l5.5 5.5z"/>
        </svg>
      </button>

      <button class="slider-btn slider-next" id="nextBtn" aria-label="Next release">
        <svg viewBox="0 0 24 24" aria-hidden="true">
          <path d="M8.5 5 15.5 12l-7 7-1.5-1.5L12.5 12 7 6.5z"/>
        </svg>
      </button>

      <div class="modal-header">
        <div class="mh-title" id="mhTitle">RELEASE</div>
        <button class="close-btn" id="closeBtn">CLOSE</button>
      </div>

      <div id="viewport" class="modal-body slide-center">
        <div>
          <img id="coverImg" class="modal-cover" src="" alt="Cover">

          <div class="player" id="playerWrap">
            <audio id="audioPlayer" controls preload="none" controlsList="nodownload noplaybackrate">
              <source id="audioSource" src="" type="audio/mpeg">
            </audio>
          </div>
        </div>

        <div>
          <div class="meta" id="catalogText"></div>
          <div class="title" id="titleText"></div>
          <div class="meta" id="dateText"></div>

          <div class="badge" id="freeBadge" style="display:none;">FREE RELEASE</div>

          <div class="links">
            <a id="spotifyLink" href="#" target="_blank" rel="noopener">Spotify</a>
            <a id="beatportLink" href="#" target="_blank" rel="noopener">Beatport</a>
            <a id="soundcloudLink" href="#" target="_blank" rel="noopener">SoundCloud</a>
            <a id="freeLink" class="free" href="#" target="_blank" rel="noopener" style="display:none;">FREE DOWNLOAD</a>
          </div>
        </div>
      </div>

    </div>
  </div>

  <script>
    /* ===== EDIT YOUR RELEASES HERE ===== */
    const releases = [
      {
        catalog: "LUM001",
        title: "Don Juan – Out Of My Mind",
        date: "19/01/2026",
        cover: "LUM001.png",
        demo: "demo-lum001.mp3",
        free: false,
        links: {
          spotify: "https://open.spotify.com/track/6JPue869nLJEBQI1zguNIm",
          beatport: "https://www.beatport.com/release/out-of-my-mind/5801798",
          soundcloud: "https://soundcloud.com/lumatechmusic/don-juan-out-of-my-mind",
          free: ""
        }
      },
      {
        catalog: "LUM002",
        title: "Don Juan – Driving Me Insane",
        date: "23/02/2026",
        cover: "LUM002.png",
        demo: "demo-lum002.mp3",
        free: false,
        links: {
          spotify: "https://open.spotify.com/track/73hkx7YHUZcnxbllQHUgz1?si=1&nd=1&dlsi=e351627f15a044d1",
          beatport: "https://www.beatport.com/release/driving-me-insane/5935558",
          soundcloud: "https://soundcloud.com/lumatechmusic/don-juan-driving-me-insane",
          free: ""
        }
      },
      {
        catalog: "LUMF001",
        title: "Don Juan – HEART",
        date: "FREE DOWNLOAD",
        cover: "LUMF001.png",
        demo: "demo-lumf001.mp3",
        free: true,
        links: {
          spotify: "",
          beatport: "",
          soundcloud: "",
          free: "https://lumatech-music.com/downloads/LumaTech-LUMF001-DonJuan-HEART-FreeDownload.zip"
        }
      },
      {
        catalog: "LUM003",
        title: "Maëlle Ø – He Was A Star",
        date: "07/03/2026",
        cover: "LUM003.png",
        demo: "demo-lum003.mp3",
        free: false,
        links: { spotify:"#", beatport:"#", soundcloud:"#", free:"" }
      },
      {
        catalog: "LUM004",
        title: "Bodhi Adityo - Python",
        date: "15/03/2026",
        cover: "LUM004.png",
        demo: "demo-lum004.mp3",
        free: false,
        links: { spotify:"#", beatport:"#", soundcloud:"#", free:"" }
      },
      {
        catalog: "LUM005",
        title: "Don Juan - Roll Up",
        date: "25/03/2026",
        cover: "LUM005.png",
        demo: "demo-lum005.mp3",
        free: false,
        links: { spotify:"#", beatport:"#", soundcloud:"#", free:"" }
      },
      {
        catalog: "LUM006",
        title: "Maëlle Ø – ATOMA",
        date: "12/04/2026",
        cover: "LUM006.png",
        demo: "demo-lum006.mp3",
        free: false,
        links: { spotify:"#", beatport:"#", soundcloud:"#", free:"" }
      }
    ];

    /* ===== Build Grid ===== */
    const grid = document.getElementById("grid");

    function esc(s){ return String(s ?? ""); }

    function buildGrid(){
      grid.innerHTML = "";
      releases.forEach((r, i) => {
        const card = document.createElement("div");
        card.className = "release-card";
        card.tabIndex = 0;
        card.setAttribute("role","button");
        card.setAttribute("aria-label", `Open ${r.catalog}`);
        card.innerHTML = `
          <img class="cover" src="${esc(r.cover)}" alt="${esc(r.catalog)} Cover">
          <div class="meta">CATALOG: ${esc(r.catalog)}</div>
          <div class="title">${esc(r.title)}</div>
          <div class="meta">Release Date: ${esc(r.date)}</div>
          ${r.free ? `<div class="badge">FREE RELEASE</div>` : ``}
        `;
        card.addEventListener("click", () => openModal(i));
        card.addEventListener("keydown", (e) => {
          if (e.key === "Enter" || e.key === " ") openModal(i);
        });
        grid.appendChild(card);
      });
    }

    /* ===== Modal + Slider ===== */
    const modal = document.getElementById("modal");
    const closeBtn = document.getElementById("closeBtn");
    const prevBtn = document.getElementById("prevBtn");
    const nextBtn = document.getElementById("nextBtn");
    const viewport = document.getElementById("viewport");

    const coverImg = document.getElementById("coverImg");
    const catalogText = document.getElementById("catalogText");
    const titleText = document.getElementById("titleText");
    const dateText = document.getElementById("dateText");
    const freeBadge = document.getElementById("freeBadge");

    const spotifyLink = document.getElementById("spotifyLink");
    const beatportLink = document.getElementById("beatportLink");
    const soundcloudLink = document.getElementById("soundcloudLink");
    const freeLink = document.getElementById("freeLink");

    const audioPlayer = document.getElementById("audioPlayer");
    const audioSource = document.getElementById("audioSource");
    const playerWrap = document.getElementById("playerWrap");

    let idx = 0;
    let isAnimating = false;

    function updateArrowState(){
      prevBtn.disabled = (idx === 0);
      nextBtn.disabled = (idx === releases.length - 1);
    }

    function setReleaseContent(r){
      coverImg.src = r.cover;
      coverImg.alt = r.catalog + " Cover";
      catalogText.textContent = "CATALOG: " + r.catalog;
      titleText.textContent = r.title;
      dateText.textContent = "Release Date: " + r.date;

      const isFree = !!r.free;

      spotifyLink.href = r.links?.spotify || "#";
      beatportLink.href = r.links?.beatport || "#";
      soundcloudLink.href = r.links?.soundcloud || "#";

      spotifyLink.style.display    = isFree ? "none" : "inline-block";
      beatportLink.style.display   = isFree ? "none" : "inline-block";
      soundcloudLink.style.display = isFree ? "none" : "inline-block";

      freeBadge.style.display = isFree ? "inline-block" : "none";
      const dl = r.links?.free || "";
      freeLink.href = dl || "#";
      freeLink.style.display = (isFree && dl) ? "inline-block" : "none";

      const hasDemo = !!r.demo;
      if (!hasDemo){
        playerWrap.style.display = "none";
        audioPlayer.pause();
        audioSource.src = "";
        audioPlayer.load();
      } else {
        playerWrap.style.display = "block";
        audioPlayer.pause();
        audioSource.src = r.demo;
        audioPlayer.load();
      }
    }

    function animateTo(newIndex, dir){
      if (isAnimating) return;
      isAnimating = true;

      viewport.classList.remove("slide-center","slide-in-left","slide-in-right");
      viewport.classList.add(dir === "next" ? "slide-out-left" : "slide-out-right");

      setTimeout(() => {
        idx = newIndex;
        setReleaseContent(releases[idx]);

        viewport.classList.remove("slide-out-left","slide-out-right");
        viewport.classList.add(dir === "next" ? "slide-in-right" : "slide-in-left");

        void viewport.offsetWidth;

        viewport.classList.remove("slide-in-left","slide-in-right");
        viewport.classList.add("slide-center");

        setTimeout(() => {
          isAnimating = false;
          updateArrowState();
        }, 420);

      }, 260);
    }

    function openModal(startIndex){
      idx = startIndex;
      setReleaseContent(releases[idx]);
      updateArrowState();
      modal.classList.add("open");
      modal.setAttribute("aria-hidden","false");
      document.body.style.overflow = "hidden";
    }

    function closeModal(){
      modal.classList.remove("open");
      modal.setAttribute("aria-hidden","true");
      document.body.style.overflow = "";
      audioPlayer.pause();
    }

    prevBtn.addEventListener("click", () => {
      if (idx === 0) return;
      animateTo(idx - 1, "prev");
    });
    nextBtn.addEventListener("click", () => {
      if (idx === releases.length - 1) return;
      animateTo(idx + 1, "next");
    });

    closeBtn.addEventListener("click", closeModal);

    modal.addEventListener("click", (e) => {
      if (e.target === modal) closeModal();
    });

    document.addEventListener("keydown", (e) => {
      if (!modal.classList.contains("open")) return;
      if (e.key === "Escape") closeModal();
      if (e.key === "ArrowLeft" && idx > 0) animateTo(idx - 1, "prev");
      if (e.key === "ArrowRight" && idx < releases.length - 1) animateTo(idx + 1, "next");
    });

    /* Init */
    buildGrid();
  </script>

</body>
</html>
