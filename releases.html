<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>LumaTech | Releases</title>

<style>
/* ===== בסיס ===== */
*{ box-sizing:border-box; }
html, body{
  margin:0;
  height:100%;
  font-family: Arial, Helvetica, sans-serif;
}

.player{ margin-top:14px; }

audio{
  width:100%;
  max-width:320px;
  display:block;
  margin:0 auto;
}

/* ===== רקע (זהה ל־home) ===== */
body{
  background:
    linear-gradient(rgba(0,0,0,.4), rgba(0,0,0,.7)),
    url("background.png");
  background-size: cover;
  background-position: center;
  background-repeat: no-repeat;
  color:#fff;
  display:flex;
  align-items:center;
  justify-content:center;
  text-align:center;
}

/* ===== קונטיינר ===== */
.container{
  padding:40px 20px;
  width:100%;
  max-width:1100px;
}

/* ===== כותרות ===== */
h1{
  margin:0;
  font-size:42px;
  letter-spacing:8px;
}

.tag{
  margin-top:12px;
  font-size:12px;
  letter-spacing:4px;
  opacity:.75;
}

/* ===== Divider ===== */
.divider{
  width:70px;
  height:1px;
  background:rgba(255,255,255,.6);
  margin:30px auto 40px;
}

/* ===== Grid ===== */
.grid{
  display:grid;
  grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
  gap:26px;
}

/* ===== Card ===== */
.card{
  background:rgba(0,0,0,.25);
  padding:16px;
  border-radius:16px;
  text-align:left;
  position:relative;
  overflow:hidden;
}

/* ===== Cover ===== */
.cover{
  width:100%;
  max-width:220px;
  aspect-ratio:1/1;
  object-fit:cover;
  border-radius:14px;
  margin:0 auto 14px;
  display:block;
}

/* ===== Meta ===== */
.meta{
  font-size:11px;
  letter-spacing:3px;
  opacity:.75;
}

/* FREE badge */
.badge{
  display:inline-block;
  margin-top:10px;
  padding:6px 10px;
  border-radius:999px;
  border:1px solid rgba(255,255,255,.35);
  background:rgba(255,255,255,.10);
  font-size:10px;
  letter-spacing:3px;
  font-weight:700;
  text-transform:uppercase;
}

/* ===== Title ===== */
.title{
  margin:6px 0 10px;
  font-size:14px;
  letter-spacing:3px;
  font-weight:700;
  text-transform:uppercase;
}

/* ===== Links ===== */
.links{
  display:flex;
  gap:10px;
  flex-wrap:wrap;
  margin-top:10px;
}

.links a{
  padding:10px 14px;
  background:rgba(255,255,255,.12);
  color:#fff;
  text-decoration:none;
  letter-spacing:3px;
  font-size:11px;
  transition:.25s;
}

.links a:hover{
  background:#fff;
  color:#000;
}

/* FREE DOWNLOAD button highlight */
.links a.free{
  border:1px solid rgba(255,255,255,.35);
  background:rgba(255,255,255,.18);
  font-weight:700;
}
.links a.free:hover{
  background:#fff;
  color:#000;
}

/* ===== Back Button ===== */
.back{ margin-top:40px; }

.back a{
  padding:12px 28px;
  background:rgba(255,255,255,.12);
  color:#fff;
  text-decoration:none;
  letter-spacing:4px;
  font-size:12px;
  font-weight:700;
  transition:.25s;
}

.back a:hover{
  background:#fff;
  color:#000;
}

/* ===== Fade In ===== */
.fade{
  opacity:0;
  transform: translateY(14px);
  animation: fadeIn 1.4s ease-out forwards;
}
@keyframes fadeIn{
  to{ opacity:1; transform: translateY(0); }
}

/* ✅ ===== SLIDER BUTTONS INSIDE CARD ===== */
.slider-btn{
  position:absolute;
  top:50%;
  transform:translateY(-50%);
  width:42px;
  height:42px;
  border-radius:50%;
  border:1px solid rgba(255,255,255,.25);
  background:rgba(0,0,0,.35);
  color:#fff;
  display:flex;
  align-items:center;
  justify-content:center;
  cursor:pointer;
  z-index:50;
  transition:.2s ease;
  user-select:none;
}

.slider-btn:hover{
  transform:translateY(-50%) scale(1.06);
  background:rgba(255,255,255,.14);
}

.slider-btn:disabled{
  opacity:.35;
  cursor:default;
}
.slider-btn:disabled:hover{
  transform:translateY(-50%);
  background:rgba(0,0,0,.35);
}

.slider-prev{ left:12px; }
.slider-next{ right:12px; }

.slider-btn svg{
  width:18px;
  height:18px;
  fill:currentColor;
}

/* ✅ ===== SLIDE TRANSITION (real slide) ===== */
#releaseViewport{
  transition: transform .45s ease, opacity .45s ease;
  will-change: transform, opacity;
}

.slide-out-left{  transform: translateX(-55%); opacity: 0; }
.slide-out-right{ transform: translateX(55%);  opacity: 0; }
.slide-in-left{   transform: translateX(-55%); opacity: 0; }
.slide-in-right{  transform: translateX(55%);  opacity: 0; }
.slide-center{    transform: translateX(0);    opacity: 1; }

/* ===== WHATSAPP FLOAT BUTTON ===== */
.whatsapp-float{
  position:fixed;
  right:22px;
  bottom:22px;
  background:rgba(0,0,0,.6);
  backdrop-filter: blur(6px);
  padding:12px 18px;
  border-radius:40px;
  display:flex;
  align-items:center;
  gap:10px;
  text-decoration:none;
  box-shadow:0 0 20px rgba(0,0,0,.6);
  z-index:1000;
  transition:.25s ease;
}

.whatsapp-float img{ width:22px; height:auto; }

.whatsapp-float span{
  color:#fff;
  font-size:11px;
  font-weight:700;
  letter-spacing:1px;
  line-height:1.2;
  white-space:nowrap;
}

.whatsapp-float:hover{
  transform:scale(1.08);
  box-shadow:0 0 28px rgba(37,211,102,.6);
}

/* ===== FOOTER LEFT ===== */
.footer-left{
  position:fixed;
  left:18px;
  bottom:14px;
  display:flex;
  align-items:center;
  gap:8px;
  font-size:11px;
  letter-spacing:1px;
  opacity:.65;
  z-index:999;
}
.footer-left img{
  width:64px;
  height:auto;
  opacity:1;
}

/* ===== MOBILE ===== */
@media(max-width:600px){
  h1{ font-size:34px; letter-spacing:6px; }
  .whatsapp-float span{ display:none; }
}
@media (max-width:480px){
  h1{font-size:34px;letter-spacing:6px}
  .whatsapp-float span{ display:none; }
  .slider-btn{ width:38px; height:38px; }
}
</style>
</head>

<body>

<div class="container fade">

  <h1>RELEASES</h1>
  <div class="tag">LUMATECH DISCOGRAPHY</div>

  <div class="divider"></div>

  <div class="grid">

    <div class="card" id="releaseCard">

      <button class="slider-btn slider-prev" id="prevBtn" aria-label="Previous release">
        <svg viewBox="0 0 24 24" aria-hidden="true">
          <path d="M15.5 19 8.5 12l7-7 1.5 1.5L11.5 12l5.5 5.5z"/>
        </svg>
      </button>

      <button class="slider-btn slider-next" id="nextBtn" aria-label="Next release">
        <svg viewBox="0 0 24 24" aria-hidden="true">
          <path d="M8.5 5 15.5 12l-7 7-1.5-1.5L12.5 12 7 6.5z"/>
        </svg>
      </button>

      <div id="releaseViewport" class="slide-center">

        <img id="coverImg" src="LUM001.png" class="cover" alt="LUM001 Cover">

        <div class="meta" id="catalogText">CATALOG: LUM001</div>
        <div class="title" id="titleText">Don Juan – Out Of My Mind</div>
        <div class="meta" id="dateText">Release Date: 19/01/2026</div>

        <div class="badge" id="freeBadge" style="display:none;">FREE RELEASE</div>

        <div class="player" id="playerWrap">
          <audio id="audioPlayer" controls preload="none" controlsList="nodownload noplaybackrate">
            <source id="audioSource" src="demo-lum001.mp3" type="audio/mpeg">
          </audio>
        </div>

        <div class="links">
          <a id="spotifyLink" href="#" target="_blank" rel="noopener">Spotify</a>
          <a id="beatportLink" href="#" target="_blank" rel="noopener">Beatport</a>
          <a id="soundcloudLink" href="#" target="_blank" rel="noopener">SoundCloud</a>
          <a id="freeLink" class="free" href="#" target="_blank" rel="noopener" style="display:none;">FREE DOWNLOAD</a>
        </div>

      </div>

    </div>

  </div>

  <div class="back">
    <a href="home.html">BACK</a>
  </div>

</div>

<div class="footer-left">
  <img src="logo white.png" alt="Lumatech Logo">
  <span>All Rights Reserved. Lumatech Music © 2026</span>
</div>

<a href="https://chat.whatsapp.com/Hw4geis1c3pENPVwpwmjKh"
   target="_blank"
   class="whatsapp-float"
   title="Join the Official LumaTech WhatsApp Updates Group">
   <img src="whatsapp.png" alt="WhatsApp">
   <span>Join the Official LumaTech WhatsApp Updates Group</span>
</a>

<script>
const releases = [
  {
    catalog: "LUM001",
    title: "Don Juan – Out Of My Mind",
    date: "19/01/2026",
    cover: "LUM001.png",
    demo: "demo-lum001.mp3",
    free: false,
    links: { spotify:"#", beatport:"#", soundcloud:"#", free:"" }
  },
  {
    catalog: "LUM002",
    title: "Don Juan – Driving Me Insane",
    date: "23/02/2026",
    cover: "LUM002.png",
    demo: "demo-lum002.mp3",
    free: false,
    links: { spotify:"#", beatport:"#", soundcloud:"#", free:"" }
  },
  {
    catalog: "LUMF001",
    title: "Don Juan – HEART",
    date: "N/N",
    cover: "LUMF001.png",
    demo: "demo-lum003.mp3",
    free: true,
    links: {
      free: "https://lumatech-music.com/downloads/LumaTech-LUMF001-DonJuan-HEART-FreeDownload.zip"
    }
  }
];

let idx = 0;
let isAnimating = false;

const viewport = document.getElementById("releaseViewport");

const coverImg = document.getElementById("coverImg");
const catalogText = document.getElementById("catalogText");
const titleText = document.getElementById("titleText");
const dateText = document.getElementById("dateText");

const freeBadge = document.getElementById("freeBadge");
const freeLink = document.getElementById("freeLink");

const spotifyLink = document.getElementById("spotifyLink");
const beatportLink = document.getElementById("beatportLink");
const soundcloudLink = document.getElementById("soundcloudLink");

const audioPlayer = document.getElementById("audioPlayer");
const audioSource = document.getElementById("audioSource");
const playerWrap = document.getElementById("playerWrap");

const prevBtn = document.getElementById("prevBtn");
const nextBtn = document.getElementById("nextBtn");

function updateArrowState(){
  prevBtn.disabled = (idx === 0);
  nextBtn.disabled = (idx === releases.length - 1);
}

function setReleaseContent(r){
  coverImg.src = r.cover;
  coverImg.alt = r.catalog + " Cover";
  catalogText.textContent = "CATALOG: " + r.catalog;
  titleText.textContent = r.title;
  dateText.textContent = "Release Date: " + r.date;

  const isFree = !!r.free;

  // set hrefs (for non-free releases)
  spotifyLink.href = r.links?.spotify || "#";
  beatportLink.href = r.links?.beatport || "#";
  soundcloudLink.href = r.links?.soundcloud || "#";

  // ✅ hide streaming buttons on FREE release (HEART)
  spotifyLink.style.display    = isFree ? "none" : "inline-block";
  beatportLink.style.display   = isFree ? "none" : "inline-block";
  soundcloudLink.style.display = isFree ? "none" : "inline-block";

  // FREE badge + FREE DOWNLOAD
  freeBadge.style.display = isFree ? "inline-block" : "none";
  const dl = r.links?.free || "";
  freeLink.href = dl || "#";
  freeLink.style.display = (isFree && dl) ? "inline-block" : "none";

  // audio
  const hasDemo = !!r.demo;
  if (!hasDemo){
    playerWrap.style.display = "none";
    audioPlayer.pause();
    audioSource.src = "";
    audioPlayer.load();
  } else {
    playerWrap.style.display = "block";
    audioPlayer.pause();
    audioSource.src = r.demo;
    audioPlayer.load();
  }
}

function animateTo(newIndex, dir){
  if (isAnimating) return;
  if (releases.length <= 1) return;

  isAnimating = true;

  viewport.classList.remove("slide-center","slide-in-left","slide-in-right");
  viewport.classList.add(dir === "next" ? "slide-out-left" : "slide-out-right");

  setTimeout(() => {
    idx = newIndex;
    setReleaseContent(releases[idx]);

    viewport.classList.remove("slide-out-left","slide-out-right");
    viewport.classList.add(dir === "next" ? "slide-in-right" : "slide-in-left");

    void viewport.offsetWidth;

    viewport.classList.remove("slide-in-left","slide-in-right");
    viewport.classList.add("slide-center");

    setTimeout(() => {
      isAnimating = false;
      updateArrowState();
    }, 480);

  }, 300);
}

prevBtn.addEventListener("click", () => {
  if (idx === 0) return;
  animateTo(idx - 1, "prev");
});

nextBtn.addEventListener("click", () => {
  if (idx === releases.length - 1) return;
  animateTo(idx + 1, "next");
});

// init
setReleaseContent(releases[idx]);

// init arrows
if (releases.length <= 1){
  prevBtn.disabled = true;
  nextBtn.disabled = true;
} else {
  updateArrowState();
}
</script>

</body>
</html>
